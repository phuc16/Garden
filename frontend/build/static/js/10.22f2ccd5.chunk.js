(window["webpackJsonpconnect-plus-react"]=window["webpackJsonpconnect-plus-react"]||[]).push([[10],{166:function(e,t,a){"use strict";var r=a(1),n=a(2),c=a(6),s=a.n(c),i=a(0),l=a.n(i),o=a(17),d=a(40),m=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.variant,i=e.size,m=e.active,p=e.className,u=e.block,g=e.type,h=e.as,b=Object(n.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),v=Object(o.b)(a,"btn"),f=s()(p,v,m&&"active",v+"-"+c,u&&v+"-block",i&&v+"-"+i);if(b.href)return l.a.createElement(d.a,Object(r.a)({},b,{as:h,ref:t,className:s()(f,b.disabled&&"disabled")}));t&&(b.ref=t),h||(b.type=g);var y=h||"button";return l.a.createElement(y,Object(r.a)({},b,{className:f}))}));m.displayName="Button",m.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"},t.a=m},361:function(e,t,a){},368:function(e,t,a){"use strict";a.r(t);var r=a(19),n=a(107),c=a.n(n),s=a(108),i=a(7),l=a(8),o=a(10),d=a(9),m=a(11),p=a(0),u=a.n(p),g=(a(109),a(103)),h=a.n(g),b=a(166),v=a(96),f=a(95),y=a(115),E=a(111),N=a.n(E),w=a(104),O=a.n(w);a(361);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).data={labels:[],datasets:[{label:"Predict Temperature",data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1,fill:!0}]},a.options={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!0},elements:{point:{radius:0}}},a.state={allTemp:[],todayTemp:[],lastData:0,predictSetting:[],reload:!1,predictData:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.get("https://universe-smart-garden.herokuapp.com/device").then((function(e){var a=e.data;t.setState({predictSetting:a})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"showChart",value:function(){for(var e=[],t=[],a=0;a<this.state.predictData.length;a++)e.push(this.state.predictData[a].tempPredict),t.push(this.state.predictData[a].date.slice(0,16).replace("2020","2022"));this.data.labels=t,this.data.datasets[0].data=e,console.log(t)}},{key:"render",value:function(){var e=this;console.log("render"),this.showChart();for(var t=function(e){var t=parseInt(e.target.className);console.log(e.target.value),s[t].time_start=e.target.value},a=function(e){var t=parseInt(e.target.className);s[t].time_end=e.target.value},r=function(e){var t=parseInt(e.target.className);s[t].time_gap=e.target.value},n=function(e){return console.log(e),0==e[0]?e.slice(1,6):e},c=function(t){var a=t.target.value;console.log(s[a].time_end);var r=s[a].id,c=s[a].time_start,i=s[a].time_end,l=s[a].time_gap,o=i.slice(0,10),d=c.slice(0,10),m=n(c.slice(11,16)),p=n(i.slice(11,16));c=d+" "+m,i=o+" "+p,console.log(l.key),15==l||null==l.key&&"string"!=typeof l?O.a.post("https://universe-smart-garden.herokuapp.com"+"/predict?startTime=".concat(c,"&endTime=").concat(i,"&timeGap=15"),{id_device:r}).then((function(t){for(var a=t.data.result,r=0;r<a.length;r++)a[r].date=a[r].date.replace("2020",2022);alert("".concat(a.length," new schedules updated! Check Schedule now")),e.setState({predictData:a})})):O.a.post("https://universe-smart-garden.herokuapp.com"+"/predict?startTime=".concat(c,"&endTime=").concat(i,"&timeGap=").concat(l),{id_device:r}).then((function(t){for(var a=t.data.result,r=0;r<a.length;r++)a[r].date=a[r].date.replace("2020",2022);alert("".concat(a.length," new schedules updated! Check Schedule now")),e.setState({predictData:a})}))},s=[],i=0;i<this.state.predictSetting.length;i++)s.push(j({},this.state.predictSetting[i],{time_start:u.a.createElement("input",{type:"datetime-local",onChange:t,className:i,step:1}),time_end:u.a.createElement("input",{type:"datetime-local",onChange:a,className:i,step:1}),time_gap:u.a.createElement("input",{type:"number",onChange:r,className:i}),setting:u.a.createElement(b.a,{value:i,onClick:c,defaultValue:15},"Predict")}));return console.log(this.state.predictData),u.a.createElement("div",null,u.a.createElement("div",{className:"page-header"},u.a.createElement("h3",{className:"page-title"},"Temperature Prediction (Be awareness! predict temperature feature allows the system schedule the sensor automatically.)")),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xl-12 col-lg-12 col-sm-12 grid-margin stretch-card"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body text-center"},u.a.createElement("div",{className:"card predict"},u.a.createElement("div",{className:"card-body text-center"},u.a.createElement("h5",{className:"mb-2 text-dark font-weight-normal "},"Predict Setting"),u.a.createElement(h.a,{keyField:"id",data:s,columns:[{dataField:"id",text:"ID"},{dataField:"name",text:"Device Name"},{dataField:"time_start",text:"Time Start"},{dataField:"time_end",text:"Time End"},{dataField:"time_gap",text:"Time Gap"},{dataField:"setting",text:"Setting"}]}))))))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"justify-content-between align-items-center tab-transparent"},u.a.createElement(v.a,{defaultActiveKey:"chart",id:"uncontrolled-tab-example",className:"mb-3"},u.a.createElement(f.a,{eventKey:"chart",title:"Chart"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body"},u.a.createElement("h4",{className:"card-title"},"Temperature Chart"),u.a.createElement(y.a,{data:this.data,options:this.options})))),u.a.createElement(f.a,{eventKey:"today",title:"Today"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body text-center"},u.a.createElement("h5",{className:"mb-2 text-dark font-weight-normal"},"Temperature Stats Today"),u.a.createElement(h.a,{bootstrap4:!0,keyField:"id",data:this.state.predictData,columns:[{dataField:"date",text:"Time",sort:!0},{dataField:"tempPredict",text:"Value",sort:!0}],pagination:N()({sizePerPage:5})})))))))))}}]),t}(p.Component);t.default=x}}]);
//# sourceMappingURL=10.22f2ccd5.chunk.js.map